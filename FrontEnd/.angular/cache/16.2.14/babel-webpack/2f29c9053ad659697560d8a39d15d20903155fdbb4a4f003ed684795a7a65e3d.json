{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/send-and-get-data-between-components.service\";\nimport * as i2 from \"src/app/services/httpRequest/http.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction HeaderComponent_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 3)(1, \"a\", 10);\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HeaderComponent_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 3)(1, \"a\", 11);\n    i0.ɵɵtext(2, \"Regeister\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HeaderComponent_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 12);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_14_Template_li_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵtext(1, \"Logout\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"h4\")(2, \"a\", 14);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"input\", 16);\n    i0.ɵɵlistener(\"change\", function HeaderComponent_div_15_Template_input_change_5_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.changeProfileImg($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"label\", 17);\n    i0.ɵɵelement(7, \"img\", 18);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"author/\", ctx_r3.UserInformation == null ? null : ctx_r3.UserInformation.userId, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.UserInformation == null ? null : ctx_r3.UserInformation.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r3.imgurl, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class HeaderComponent {\n  constructor(sendData, http, router) {\n    this.sendData = sendData;\n    this.http = http;\n    this.router = router;\n    this.links = ['home', 'About', 'privacy', 'login', 'regeister'];\n    this.darkMode = true;\n    this.theme = new EventEmitter();\n    this.UserInformation = null;\n    this.AllUsers = [];\n  }\n  ngOnInit() {\n    this.darkMode = localStorage.getItem('darkMode') == 'true' ? true : false;\n    this.sendData.sendTheme(this.darkMode);\n    this.sendTheme();\n    this.sendData.data.subscribe(data => {\n      if (data.name) {\n        this.UserInformation = data;\n      }\n    });\n    this.sendData.data.subscribe(data => this.imgurl = data.imgUrl);\n  }\n  changeMode() {\n    this.darkMode = !this.darkMode;\n    this.sendData.sendTheme(this.darkMode);\n    localStorage.setItem('darkMode', String(this.darkMode));\n    this.sendTheme();\n  }\n  sendTheme() {\n    this.theme.emit(this.darkMode);\n  }\n  logout() {\n    const model = {};\n    this.http.putUserInformation(model).subscribe(data => {\n      this.sendData.data.next(data);\n      this.UserInformation = null;\n    });\n    this.router.navigate(['./']);\n  }\n  getuserdetails() {\n    const img = {\n      imgUrl: this.imgurl\n    };\n    this.http.getUserInformation().subscribe(user => {\n      this.http.patchUserInformation(user.userId, img).subscribe();\n    });\n    this.http.patchLoginInformation1(img).subscribe();\n  }\n  changeProfileImg(event) {\n    if (event.target.files) {\n      const img = new FileReader();\n      img.readAsDataURL(event.target.files[0]);\n      img.onload = e => {\n        this.imgurl = e.target?.result;\n        this.getuserdetails();\n        this.sendData.data.subscribe(data => this.imgurl = data.imgUrl);\n      };\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    }\n  }\n  static #_ = this.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.SendAndGetDataBetweenComponentsService), i0.ɵɵdirectiveInject(i2.HttpService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"app-header\"]],\n    outputs: {\n      theme: \"theme\"\n    },\n    decls: 18,\n    vars: 7,\n    consts: [[1, \"header\"], [1, \"logo\"], [1, \"links\"], [\"routerLinkActive\", \"active\"], [\"href\", \"\", \"routerLink\", \"home\"], [\"href\", \"\", \"routerLink\", \"privacy\"], [\"routerLinkActive\", \"active\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [\"class\", \"profile\", 4, \"ngIf\"], [1, \"fa-regular\", 3, \"ngClass\", \"click\"], [\"href\", \"\", \"routerLink\", \"login\"], [\"href\", \"\", \"routerLink\", \"regeister\"], [3, \"click\"], [1, \"profile\"], [\"href\", \"\", \"routerLinkActive\", \"active\", 3, \"routerLink\"], [1, \"img\"], [\"type\", \"file\", \"id\", \"img\", 2, \"display\", \"none\", 3, \"change\"], [\"for\", \"img\"], [\"alt\", \"\", \"height\", \"30\", \"width\", \"30\", 3, \"src\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Joselu\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"ul\")(6, \"li\", 3)(7, \"a\", 4);\n        i0.ɵɵtext(8, \"Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"li\", 3)(10, \"a\", 5);\n        i0.ɵɵtext(11, \"Privacy\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(12, HeaderComponent_li_12_Template, 3, 0, \"li\", 6);\n        i0.ɵɵtemplate(13, HeaderComponent_li_13_Template, 3, 0, \"li\", 6);\n        i0.ɵɵtemplate(14, HeaderComponent_li_14_Template, 2, 0, \"li\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, HeaderComponent_div_15_Template, 8, 3, \"div\", 8);\n        i0.ɵɵelementStart(16, \"i\", 9);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_i_click_16_listener() {\n          return ctx.changeMode();\n        });\n        i0.ɵɵtext(17, \"mode\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"light\", !ctx.darkMode);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", ctx.UserInformation == null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.UserInformation == null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.UserInformation != null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.UserInformation != null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.darkMode ? \"fa-sun\" : \"fa-moon\");\n      }\n    },\n    dependencies: [i4.NgClass, i4.NgIf, i3.RouterLink, i3.RouterLinkActive],\n    styles: [\".header[_ngcontent-%COMP%] {\\n  background-color: var(--background);\\n  display: flex;\\n  flex-direction: row;\\n  gap: 300px;\\n  align-items: center;\\n  justify-content: space-around;\\n  padding: 35px 0;\\n}\\n.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  color: white;\\n  font-size: 50px;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 20px;\\n  align-items: center;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  gap: 20px;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  color: white;\\n  padding: 25px 10px;\\n  font-size: 18px;\\n  opacity: 0.7;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\\n  opacity: 1;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  position: relative;\\n  gap: 10px;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: white;\\n  opacity: 0.7;\\n  transition: 0.3s;\\n  font-size: 18px;\\n  font-weight: normal;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  opacity: 1;\\n}\\n.header[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 35px;\\n  height: 35px;\\n  border-radius: 50%;\\n  cursor: pointer;\\n}\\n.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  width: 25px;\\n  color: white;\\n  cursor: pointer;\\n}\\n.header.light[_ngcontent-%COMP%] {\\n  background-color: white;\\n}\\n.header.light[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  color: black;\\n}\\n.header.light[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  color: black;\\n}\\n.header.light[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: black;\\n}\\n.header.light[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: black;\\n}\\n.header.light[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  border-radius: 50%;\\n}\\n.header.light[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sYXlvdXQvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0VBQ0EsNkJBQUE7RUFDQSxlQUFBO0FBQ0o7QUFFUTtFQUNJLFlBQUE7RUFDQSxlQUFBO0FBQVo7QUFHSTtFQUNJLGFBQUE7RUFDQSxTQUFBO0VBQ0EsbUJBQUE7QUFEUjtBQUVJO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtBQUFSO0FBQ1E7RUFDSSxZQUFBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQUNoQjtBQUNnQjtFQUVJLFVBQUE7QUFBcEI7QUFLUTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtBQUhaO0FBS2dCO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtBQUhoQjtBQUlnQjtFQUNJLFVBQUE7QUFGcEI7QUFNWTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FBSmhCO0FBU0k7RUFDSSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FBUFI7QUFTSTtFQUNJLHVCQUFBO0FBUFI7QUFTWTtFQUNJLFlBQUE7QUFQaEI7QUFZZ0I7RUFDSSxZQUFBO0FBVnBCO0FBV29CO0VBQ0ksWUFBQTtBQVR4QjtBQWVvQjtFQUNJLFlBQUE7QUFieEI7QUFnQmdCO0VBQ0ksa0JBQUE7QUFkcEI7QUFtQlE7RUFDSSxZQUFBO0FBakJaIiwic291cmNlc0NvbnRlbnQiOlsiLmhlYWRlcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQpO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBnYXA6IDMwMHB4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG4gICAgcGFkZGluZzogMzVweCAwO1xyXG5cclxuICAgIC5sb2dve1xyXG4gICAgICAgIGgye1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogNTBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAubGlua3N7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBnYXA6IDIwcHg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHVse1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICBnYXA6IDIwcHg7XHJcbiAgICAgICAgbGl7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDI1cHggMTBweDtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IC43O1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogLjNzO1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICAgICAgICAgICAgICYuYWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgJjpob3ZlcntcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5wcm9maWxle1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIGdhcDogMTBweDtcclxuICAgICAgICAgICAgaDR7XHJcbiAgICAgICAgICAgICAgICBhe1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogLjc7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAuM3M7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsO1xyXG4gICAgICAgICAgICAgICAgJjpob3ZlcntcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1ne1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDM1cHg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDM1cHg7XHJcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgaXtcclxuICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgd2lkdGg6IDI1cHg7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuICAgICYubGlnaHR7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7IFxyXG4gICAgICAgIC5sb2dve1xyXG4gICAgICAgICAgICBoMntcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAubGlua3N7XHJcbiAgICAgICAgICAgICB1bHtcclxuICAgICAgICAgICAgICAgIGxpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgICAgICAgICBhe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAucHJvZmlsZXtcclxuICAgICAgICAgICAgICAgIGg0e1xyXG4gICAgICAgICAgICAgICAgICAgIGF7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbWd7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaXtcclxuICAgICAgICAgICAgY29sb3I6IGJsYWNrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","HeaderComponent_li_14_Template_li_click_0_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","logout","HeaderComponent_div_15_Template_input_change_5_listener","$event","_r7","ctx_r6","changeProfileImg","ɵɵelement","ɵɵadvance","ɵɵpropertyInterpolate1","ctx_r3","UserInformation","userId","ɵɵtextInterpolate","name","ɵɵproperty","imgurl","ɵɵsanitizeUrl","HeaderComponent","constructor","sendData","http","router","links","darkMode","theme","AllUsers","ngOnInit","localStorage","getItem","sendTheme","data","subscribe","imgUrl","changeMode","setItem","String","emit","model","putUserInformation","next","navigate","getuserdetails","img","getUserInformation","user","patchUserInformation","patchLoginInformation1","event","target","files","FileReader","readAsDataURL","onload","e","result","setTimeout","window","location","reload","_","ɵɵdirectiveInject","i1","SendAndGetDataBetweenComponentsService","i2","HttpService","i3","Router","_2","selectors","outputs","decls","vars","consts","template","HeaderComponent_Template","rf","ctx","ɵɵtemplate","HeaderComponent_li_12_Template","HeaderComponent_li_13_Template","HeaderComponent_li_14_Template","HeaderComponent_div_15_Template","HeaderComponent_Template_i_click_16_listener","ɵɵclassProp"],"sources":["C:\\Users\\moham\\Desktop\\LastVersion\\SE_Project\\FrontEnd\\src\\app\\components\\layout\\header\\header.component.ts","C:\\Users\\moham\\Desktop\\LastVersion\\SE_Project\\FrontEnd\\src\\app\\components\\layout\\header\\header.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { filter } from 'rxjs';\r\nimport { HttpService } from 'src/app/services/httpRequest/http.service';\r\nimport { SendAndGetDataBetweenComponentsService } from 'src/app/services/send-and-get-data-between-components.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit{\r\n  links:Array<string>=['home','About','privacy','login','regeister']\r\n  darkMode:boolean=true;\r\n  @Output()public theme=new EventEmitter();\r\n  UserInformation:any=null;\r\n  imgurl:any;\r\n  AllUsers=[];\r\n  constructor(private sendData:SendAndGetDataBetweenComponentsService,private http:HttpService,private router:Router){}\r\n  ngOnInit(): void {\r\n    this.darkMode=localStorage.getItem('darkMode')=='true'?true:false;\r\n    this.sendData.sendTheme(this.darkMode);\r\n    this.sendTheme();\r\n    this.sendData.data.subscribe((data:any)=>{if(data.name){this.UserInformation=data; }})\r\n      this.sendData.data.subscribe((data:any)=>this.imgurl=data.imgUrl)\r\n  }\r\n  changeMode(){\r\n    this.darkMode=!this.darkMode;\r\n    this.sendData.sendTheme(this.darkMode);\r\n    localStorage.setItem('darkMode',String(this.darkMode))\r\n    this.sendTheme();\r\n  }\r\n  sendTheme(){\r\n    this.theme.emit(this.darkMode)\r\n  }\r\n  logout(){\r\n    const model={};\r\n    this.http.putUserInformation(model).subscribe(\r\n      data=>{this.sendData.data.next(data)\r\n        this.UserInformation=null;\r\n      });\r\n      this.router.navigate(['./'])\r\n  \r\n\r\n  }\r\n  getuserdetails(){\r\n    const img={\r\n      imgUrl:this.imgurl\r\n    }\r\n    this.http.getUserInformation().subscribe((user:any)=>{\r\n      this.http.patchUserInformation(user.userId,img).subscribe()\r\n     })\r\n    this.http.patchLoginInformation1(img).subscribe()\r\n  }\r\n  changeProfileImg(event:any){\r\n    if(event.target.files){\r\n    const img =new FileReader();\r\n    img.readAsDataURL(event.target.files[0]);\r\n    img.onload=e=>{this.imgurl=e.target?.result\r\n      this.getuserdetails();\r\n      this.sendData.data.subscribe((data:any)=>this.imgurl=data.imgUrl)\r\n\r\n    };\r\n    setTimeout(() => {\r\n      window.location.reload()\r\n    }, 1000);\r\n  }\r\n  }\r\n}\r\n","<div class=\"header\" [class.light]=\"!darkMode\">\r\n    <div class=\"logo\">\r\n        <h2>Joselu</h2>\r\n    </div>\r\n    <div class=\"links\">\r\n        <ul>\r\n            <li routerLinkActive=\"active\"><a href=\"\" routerLink=\"home\" >Home</a></li>\r\n            <li routerLinkActive=\"active\"><a href=\"\" routerLink=\"privacy\">Privacy</a></li>\r\n            <li *ngIf=\"UserInformation==null\" routerLinkActive=\"active\"><a href=\"\" routerLink=\"login\"  >Login</a></li>\r\n            <li *ngIf=\"UserInformation==null\" routerLinkActive=\"active\"><a href=\"\" routerLink=\"regeister\" >Regeister</a></li>\r\n            <li (click)=\"logout()\" *ngIf=\"UserInformation!=null\">Logout</li>\r\n        </ul>\r\n        <div class=\"profile\" *ngIf=\"UserInformation!=null\">\r\n            <h4><a href=\"\" routerLink=\"author/{{UserInformation?.userId}}\"routerLinkActive=\"active\">{{UserInformation?.name}}</a></h4>\r\n            <div class=\"img\">\r\n           <input type=\"file\" id=\"img\" style=\"display: none;\" (change)=\"changeProfileImg($event)\"><label for=\"img\"><img [src]=\"imgurl\" alt=\"\" height=\"30\" width=\"30\"></label>\r\n        </div>\r\n        </div>\r\n        <i [ngClass]=\"darkMode?'fa-sun':'fa-moon'\"  class=\"fa-regular\" (click)=\"changeMode()\">mode</i>\r\n        </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}