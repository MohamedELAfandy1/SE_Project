{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Output } from '@angular/core';\nexport let HeaderComponent = class HeaderComponent {\n  constructor(sendData, http, router) {\n    this.sendData = sendData;\n    this.http = http;\n    this.router = router;\n    this.links = ['home', 'About', 'privacy', 'login', 'regeister'];\n    this.darkMode = true;\n    this.theme = new EventEmitter();\n    this.UserInformation = null;\n    this.AllUsers = [];\n  }\n  ngOnInit() {\n    this.darkMode = localStorage.getItem('darkMode') == 'true' ? true : false;\n    this.sendData.sendTheme(this.darkMode);\n    this.sendTheme();\n    this.sendData.data.subscribe(data => {\n      if (data.name) {\n        this.UserInformation = data;\n      }\n    });\n    this.sendData.data.subscribe(data => this.imgurl = data.imgUrl);\n  }\n  changeMode() {\n    this.darkMode = !this.darkMode;\n    this.sendData.sendTheme(this.darkMode);\n    localStorage.setItem('darkMode', String(this.darkMode));\n    this.sendTheme();\n  }\n  sendTheme() {\n    this.theme.emit(this.darkMode);\n  }\n  logout() {\n    const model = {};\n    this.http.putUserInformation(model).subscribe(data => {\n      this.sendData.data.next(data);\n      this.UserInformation = null;\n    });\n    this.router.navigate(['./']);\n  }\n  getuserdetails() {\n    const img = {\n      imgUrl: this.imgurl\n    };\n    this.http.getUserInformation().subscribe(user => {\n      this.http.patchUserInformation(user.userId, img).subscribe();\n    });\n    this.http.patchLoginInformation1(img).subscribe();\n  }\n  changeProfileImg(event) {\n    if (event.target.files) {\n      const img = new FileReader();\n      img.readAsDataURL(event.target.files[0]);\n      img.onload = e => {\n        this.imgurl = e.target?.result;\n        this.getuserdetails();\n        this.sendData.data.subscribe(data => this.imgurl = data.imgUrl);\n      };\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    }\n  }\n};\n__decorate([Output()], HeaderComponent.prototype, \"theme\", void 0);\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})], HeaderComponent);","map":{"version":3,"names":["Component","EventEmitter","Output","HeaderComponent","constructor","sendData","http","router","links","darkMode","theme","UserInformation","AllUsers","ngOnInit","localStorage","getItem","sendTheme","data","subscribe","name","imgurl","imgUrl","changeMode","setItem","String","emit","logout","model","putUserInformation","next","navigate","getuserdetails","img","getUserInformation","user","patchUserInformation","userId","patchLoginInformation1","changeProfileImg","event","target","files","FileReader","readAsDataURL","onload","e","result","setTimeout","window","location","reload","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\moham\\Desktop\\articles\\src\\app\\components\\layout\\header\\header.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { filter } from 'rxjs';\nimport { HttpService } from 'src/app/services/httpRequest/http.service';\nimport { SendAndGetDataBetweenComponentsService } from 'src/app/services/send-and-get-data-between-components.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit{\n  links:Array<string>=['home','About','privacy','login','regeister']\n  darkMode:boolean=true;\n  @Output()public theme=new EventEmitter();\n  UserInformation:any=null;\n  imgurl:any;\n  AllUsers=[];\n  constructor(private sendData:SendAndGetDataBetweenComponentsService,private http:HttpService,private router:Router){}\n  ngOnInit(): void {\n    this.darkMode=localStorage.getItem('darkMode')=='true'?true:false;\n    this.sendData.sendTheme(this.darkMode);\n    this.sendTheme();\n    this.sendData.data.subscribe((data:any)=>{if(data.name){this.UserInformation=data; }})\n      this.sendData.data.subscribe((data:any)=>this.imgurl=data.imgUrl)\n  }\n  changeMode(){\n    this.darkMode=!this.darkMode;\n    this.sendData.sendTheme(this.darkMode);\n    localStorage.setItem('darkMode',String(this.darkMode))\n    this.sendTheme();\n  }\n  sendTheme(){\n    this.theme.emit(this.darkMode)\n  }\n  logout(){\n    const model={};\n    this.http.putUserInformation(model).subscribe(\n      data=>{this.sendData.data.next(data)\n        this.UserInformation=null;\n      });\n      this.router.navigate(['./'])\n  \n\n  }\n  getuserdetails(){\n    const img={\n      imgUrl:this.imgurl\n    }\n    this.http.getUserInformation().subscribe((user:any)=>{\n      this.http.patchUserInformation(user.userId,img).subscribe()\n     })\n    this.http.patchLoginInformation1(img).subscribe()\n  }\n  changeProfileImg(event:any){\n    if(event.target.files){\n    const img =new FileReader();\n    img.readAsDataURL(event.target.files[0]);\n    img.onload=e=>{this.imgurl=e.target?.result\n      this.getuserdetails();\n      this.sendData.data.subscribe((data:any)=>this.imgurl=data.imgUrl)\n\n    };\n    setTimeout(() => {\n      window.location.reload()\n    }, 1000);\n  }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}