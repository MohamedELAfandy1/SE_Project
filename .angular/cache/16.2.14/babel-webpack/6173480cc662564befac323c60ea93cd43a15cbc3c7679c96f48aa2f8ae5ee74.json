{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let CreateArticleComponent = class CreateArticleComponent {\n  constructor(fb, http, ar) {\n    this.fb = fb;\n    this.http = http;\n    this.ar = ar;\n    this.tags = [];\n    this.createArticleForm = this.fb.group({\n      title: ['', Validators.required],\n      tags: '',\n      description: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.http.getUserInformation().subscribe(user => this.userId = user.userId);\n  }\n  putImg(e) {\n    if (e.target.files) {\n      const img = new FileReader();\n      img.readAsDataURL(e.target.files[0]);\n      img.onload = e => this.imgUrl = e.target?.result;\n    }\n  }\n  addTag() {\n    this.tags.push(this.createArticleForm.get('tags')?.value);\n    this.tag.nativeElement.value = '';\n  }\n  createArticle() {\n    const model = {\n      userId: this.userId,\n      title: this.createArticleForm.get('title')?.value,\n      tags: this.tags,\n      img: this.imgUrl,\n      description: this.createArticleForm.get('description')?.value\n    };\n    this.http.postArticle(model).subscribe();\n    this.http.postArticleDataBase(model).subscribe(console.log);\n    this.ar;\n  }\n};\n__decorate([ViewChild('tag')], CreateArticleComponent.prototype, \"tag\", void 0);\nCreateArticleComponent = __decorate([Component({\n  selector: 'app-create-article',\n  templateUrl: './create-article.component.html',\n  styleUrls: ['./create-article.component.scss']\n})], CreateArticleComponent);","map":{"version":3,"names":["Component","ViewChild","Validators","CreateArticleComponent","constructor","fb","http","ar","tags","createArticleForm","group","title","required","description","ngOnInit","getUserInformation","subscribe","user","userId","putImg","e","target","files","img","FileReader","readAsDataURL","onload","imgUrl","result","addTag","push","get","value","tag","nativeElement","createArticle","model","postArticle","postArticleDataBase","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\moham\\Desktop\\articles\\src\\app\\components\\create-article\\create-article.component.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { HttpService } from 'src/app/services/httpRequest/http.service';\n\n@Component({\n  selector: 'app-create-article',\n  templateUrl: './create-article.component.html',\n  styleUrls: ['./create-article.component.scss']\n})\nexport class CreateArticleComponent implements OnInit {\n  createArticleForm:FormGroup;\n  imgUrl:any;\n  tags:any=[];\n  userId:any;\n  @ViewChild('tag')tag!:ElementRef;\n  constructor(private fb:FormBuilder,private http:HttpService,private ar:Route){\n    this.createArticleForm=this.fb.group({\n      title:['',Validators.required],\n      tags:'',\n      description:['',Validators.required]\n    })\n  }\n  ngOnInit(): void {\n    this.http.getUserInformation().subscribe((user:any)=>this.userId=user.userId)\n  }\n  putImg(e:any){\n    if(e.target.files){\n      const img =new FileReader();\n      img.readAsDataURL(e.target.files[0])\n      img.onload=e=>this.imgUrl=e.target?.result;\n    }\n  }\n  addTag(){\n    this.tags.push(this.createArticleForm.get('tags')?.value)\n    this.tag.nativeElement.value='';\n  }\n  createArticle(){\n    const model={\n      userId:this.userId,\n      title:this.createArticleForm.get('title')?.value,\n      tags:this.tags,\n      img:this.imgUrl,\n      description:this.createArticleForm.get('description')?.value\n    }\n    this.http.postArticle(model).subscribe();\n    this.http.postArticleDataBase(model).subscribe(console.log);\n    this.ar\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAsBC,SAAS,QAAQ,eAAe;AACxE,SAAiCC,UAAU,QAAQ,gBAAgB;AAS5D,WAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAMjCC,YAAoBC,EAAc,EAASC,IAAgB,EAASC,EAAQ;IAAxD,KAAAF,EAAE,GAAFA,EAAE;IAAqB,KAAAC,IAAI,GAAJA,IAAI;IAAqB,KAAAC,EAAE,GAAFA,EAAE;IAHtE,KAAAC,IAAI,GAAK,EAAE;IAIT,IAAI,CAACC,iBAAiB,GAAC,IAAI,CAACJ,EAAE,CAACK,KAAK,CAAC;MACnCC,KAAK,EAAC,CAAC,EAAE,EAACT,UAAU,CAACU,QAAQ,CAAC;MAC9BJ,IAAI,EAAC,EAAE;MACPK,WAAW,EAAC,CAAC,EAAE,EAACX,UAAU,CAACU,QAAQ;KACpC,CAAC;EACJ;EACAE,QAAQA,CAAA;IACN,IAAI,CAACR,IAAI,CAACS,kBAAkB,EAAE,CAACC,SAAS,CAAEC,IAAQ,IAAG,IAAI,CAACC,MAAM,GAACD,IAAI,CAACC,MAAM,CAAC;EAC/E;EACAC,MAAMA,CAACC,CAAK;IACV,IAAGA,CAAC,CAACC,MAAM,CAACC,KAAK,EAAC;MAChB,MAAMC,GAAG,GAAE,IAAIC,UAAU,EAAE;MAC3BD,GAAG,CAACE,aAAa,CAACL,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MACpCC,GAAG,CAACG,MAAM,GAACN,CAAC,IAAE,IAAI,CAACO,MAAM,GAACP,CAAC,CAACC,MAAM,EAAEO,MAAM;;EAE9C;EACAC,MAAMA,CAAA;IACJ,IAAI,CAACrB,IAAI,CAACsB,IAAI,CAAC,IAAI,CAACrB,iBAAiB,CAACsB,GAAG,CAAC,MAAM,CAAC,EAAEC,KAAK,CAAC;IACzD,IAAI,CAACC,GAAG,CAACC,aAAa,CAACF,KAAK,GAAC,EAAE;EACjC;EACAG,aAAaA,CAAA;IACX,MAAMC,KAAK,GAAC;MACVlB,MAAM,EAAC,IAAI,CAACA,MAAM;MAClBP,KAAK,EAAC,IAAI,CAACF,iBAAiB,CAACsB,GAAG,CAAC,OAAO,CAAC,EAAEC,KAAK;MAChDxB,IAAI,EAAC,IAAI,CAACA,IAAI;MACde,GAAG,EAAC,IAAI,CAACI,MAAM;MACfd,WAAW,EAAC,IAAI,CAACJ,iBAAiB,CAACsB,GAAG,CAAC,aAAa,CAAC,EAAEC;KACxD;IACD,IAAI,CAAC1B,IAAI,CAAC+B,WAAW,CAACD,KAAK,CAAC,CAACpB,SAAS,EAAE;IACxC,IAAI,CAACV,IAAI,CAACgC,mBAAmB,CAACF,KAAK,CAAC,CAACpB,SAAS,CAACuB,OAAO,CAACC,GAAG,CAAC;IAC3D,IAAI,CAACjC,EAAE;EACT;CACD;AAlCkBkC,UAAA,EAAhBxC,SAAS,CAAC,KAAK,CAAC,C,kDAAgB;AALtBE,sBAAsB,GAAAsC,UAAA,EALlCzC,SAAS,CAAC;EACT0C,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACWzC,sBAAsB,CAuClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}